<div class="transition-all pb-[64px] bg-mirage-500" role="menubar"
     x-data="{ navMenu: false,  scrollAtTop: true }"
     :class="{'pb-18' : scrollAtTop }"
>
    <nav class="fixed inset-x-0 z-30 border-b-2 border-b-coral-red-500 shadow-md bg-mirage-500/95" role="navigation"
    >
        <div class="mx-auto flex items-center justify-between px-4 md:px-10 py-2 transition-all duration-300 max-w-screen-fhd"
             @scroll.window="scrollAtTop = !(window.scrollY > 1)"
        >
            <a class="flex" href="/">
                <svg class="transition-all duration-300 text-coral-red-500 w-12" fill="none" viewBox="0 0 256 256"><circle cx="128" cy="128" r="123" stroke="currentColor" stroke-width="10"/><path fill="#fff" d="M59.24 194H41.81c-2.87 0-4.31-1.44-4.31-4.31V66.3c0-2.87 1.44-4.31 4.3-4.31h50.06c10.67 0 18.94 2.94 24.82 8.83 5.88 5.75 8.82 13.96 8.82 24.63v19.71c0 10.67-2.94 18.95-8.82 24.84-5.88 5.75-14.15 8.62-24.82 8.62H66c-1.64 0-2.46.75-2.46 2.26v38.8c0 2.87-1.43 4.31-4.3 4.31Zm6.57-68.16h21.74c4.38 0 7.45-.89 9.23-2.66 1.78-1.92 2.67-5 2.67-9.24V96.69c0-4.38-.89-7.46-2.67-9.23-1.78-1.92-4.85-2.88-9.23-2.88H65.81c-1.5 0-2.26.75-2.26 2.26v36.75c0 1.5.75 2.25 2.26 2.25Z"/><path fill="#fff" d="M86.56 194h28.62c2.73 0 4.36-1.44 4.9-4.31l18.6-70.69h.82l18.41 70.69c.41 2.87 2.05 4.31 4.9 4.31h28.84c2.72 0 4.3-1.44 4.7-4.31l22.08-123.17c.41-3.01-1.02-4.52-4.3-4.52h-21.25c-3.14 0-4.78 1.5-4.91 4.52L176.14 151h-1.64l-19.86-85.51c-.4-2.33-1.9-3.49-4.5-3.49h-22.9c-2.45 0-3.88 1.23-4.29 3.7L103 151h-1.43l-3.94-28.9c-.25.4-.53.77-.84 1.1-1.78 1.78-4.86 2.67-9.23 2.67H70.13l11.32 63.82c.4 2.87 2.1 4.31 5.1 4.31ZM63.54 88.72v-1.87c0-1.51.75-2.26 2.26-2.26h21.76c1.93 0 3.61.18 5.04.56L90.03 66.3c-.13-2.87-1.77-4.31-4.9-4.31H63.86c-3.27 0-4.7 1.44-4.3 4.31l3.98 22.4Z"/><path fill="currentColor" d="M63.86 62h21.27c3.13 0 4.77 1.44 4.9 4.31l2.57 18.83a20 20 0 0 0-5.05-.56H65.81c-.52 0-.95.1-1.3.27-.64.34-.97 1-.97 2v1.87l-3.97-22.4c-.41-2.88 1.02-4.32 4.3-4.32Zm6.27 63.88 4.03 22.75h17.7c3.32 0 6.41-.28 9.27-.84l-3.5-25.68c-.25.4-.53.76-.84 1.1-1.78 1.78-4.86 2.67-9.23 2.67H70.13Zm50.47-50.17-16.7 71.44a28.83 28.83 0 0 0 12.78-7.14c5.88-5.89 8.82-14.17 8.82-24.84v-19.7c0-7.96-1.63-14.54-4.9-19.76Z"/></svg>
                <span class="ml-4 self-center text-2xl font-bold text-white">{{ SITE_NAME }}</span>
            </a>
            <div class="transition-all lg:hidden">
                <button class="flex items-center p-3 text-white navbar-burger" @click="navMenu = !navMenu">
                    <svg fill="currentColor" viewBox="0 0 20 20" class="h-6 w-6">
                        <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            <menu class="ml-10 hidden flex-grow gap-8 text-lg font-semibold uppercase text-white lg:flex">
                <li class="after:bg-coral-red-500 u-link"><a href="{{ path('app_home') }}">Accueil</a></li>
                <li class="after:bg-coral-red-500 u-link"><a href="{{ path('app_stream') }}">Stream</a></li>
                <li class="after:bg-coral-red-500 u-link"><a href="{{ path('app_videos') }}">Vidéos</a></li>
            </menu>
            <menu class="hidden gap-6 text-lg font-semibold uppercase text-white lg:flex">
                {% for network in socialNetworks() %}
                    <li>
                        <a href="{{ network.url }}" title="{{ network.alt }}">
                            <i class="icon {{ network.icon }} text-2xl text-slate-100 hover:text-red-500 transition"></i>
                        </a>
                    </li>
                {% endfor %}
            </menu>
        </div>
    </nav>
    <div x-cloak :class="{'hidden': !navMenu }" x-show="navMenu" class="relative z-50 hidden">
        <div class="fixed inset-0 opacity-90 bg-mirage-500/75 backdrop-blur-xs"></div>
        <nav class="fixed top-0 bottom-0 left-0 flex w-5/6 max-w-sm flex-col overflow-y-auto px-6 py-6 bg-mirage-500 border-r-2 border-r-coral-red-500" @click.outside="navMenu = false">
            <div class="mb-8 flex items-center justify-between">
                <a class="flex" href="#">
                    <svg class="w-16 transition-all duration-300 text-coral-red-500" fill="none" viewBox="0 0 256 256"><circle cx="128" cy="128" r="123" stroke="currentColor" stroke-width="10"/><path fill="#fff" d="M59.24 194H41.81c-2.87 0-4.31-1.44-4.31-4.31V66.3c0-2.87 1.44-4.31 4.3-4.31h50.06c10.67 0 18.94 2.94 24.82 8.83 5.88 5.75 8.82 13.96 8.82 24.63v19.71c0 10.67-2.94 18.95-8.82 24.84-5.88 5.75-14.15 8.62-24.82 8.62H66c-1.64 0-2.46.75-2.46 2.26v38.8c0 2.87-1.43 4.31-4.3 4.31Zm6.57-68.16h21.74c4.38 0 7.45-.89 9.23-2.66 1.78-1.92 2.67-5 2.67-9.24V96.69c0-4.38-.89-7.46-2.67-9.23-1.78-1.92-4.85-2.88-9.23-2.88H65.81c-1.5 0-2.26.75-2.26 2.26v36.75c0 1.5.75 2.25 2.26 2.25Z"/><path fill="#fff" d="M86.56 194h28.62c2.73 0 4.36-1.44 4.9-4.31l18.6-70.69h.82l18.41 70.69c.41 2.87 2.05 4.31 4.9 4.31h28.84c2.72 0 4.3-1.44 4.7-4.31l22.08-123.17c.41-3.01-1.02-4.52-4.3-4.52h-21.25c-3.14 0-4.78 1.5-4.91 4.52L176.14 151h-1.64l-19.86-85.51c-.4-2.33-1.9-3.49-4.5-3.49h-22.9c-2.45 0-3.88 1.23-4.29 3.7L103 151h-1.43l-3.94-28.9c-.25.4-.53.77-.84 1.1-1.78 1.78-4.86 2.67-9.23 2.67H70.13l11.32 63.82c.4 2.87 2.1 4.31 5.1 4.31ZM63.54 88.72v-1.87c0-1.51.75-2.26 2.26-2.26h21.76c1.93 0 3.61.18 5.04.56L90.03 66.3c-.13-2.87-1.77-4.31-4.9-4.31H63.86c-3.27 0-4.7 1.44-4.3 4.31l3.98 22.4Z"/><path fill="currentColor" d="M63.86 62h21.27c3.13 0 4.77 1.44 4.9 4.31l2.57 18.83a20 20 0 0 0-5.05-.56H65.81c-.52 0-.95.1-1.3.27-.64.34-.97 1-.97 2v1.87l-3.97-22.4c-.41-2.88 1.02-4.32 4.3-4.32Zm6.27 63.88 4.03 22.75h17.7c3.32 0 6.41-.28 9.27-.84l-3.5-25.68c-.25.4-.53.76-.84 1.1-1.78 1.78-4.86 2.67-9.23 2.67H70.13Zm50.47-50.17-16.7 71.44a28.83 28.83 0 0 0 12.78-7.14c5.88-5.89 8.82-14.17 8.82-24.84v-19.7c0-7.96-1.63-14.54-4.9-19.76Z"/></svg>
                    <span class="ml-4 self-center text-2xl font-bold text-white">{{ SITE_NAME }}</span>
                </a>
                <button class="navbar-close" @click="navMenu = !navMenu">
                    <svg class="h-6 w-6 cursor-pointer text-gray-400 hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div role="navigation">
                <menu class="text-lg font-semibold uppercase text-white flex flex-col gap-2">
                    <li class="after:bg-coral-red-500 u-link">
                        <a class="block py-4" href="{{ path('app_home') }}">Accueil</a>
                    </li>
                    <li class="after:bg-coral-red-500 u-link">
                        <a class="block py-4" href="{{ path('app_stream') }}">Stream</a>
                    </li>
                    <li class="after:bg-coral-red-500 u-link">
                        <a class="block py-4" href="{{ path('app_videos') }}">Vidéos</a>
                    </li>
                </menu>
                <ul class="flex flex-wrap justify-center gap-8 py-4 mt-8">
                    {% for network in socialNetworks() %}
                        <li>
                            <a href="{{ network.url }}" title="{{ network.alt }}">
                                <i class="icon {{ network.icon }} text-2xl text-slate-100 hover:text-red-500 transition"></i>
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </nav>
    </div>
</div>
